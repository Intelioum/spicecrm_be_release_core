Ext.namespace('K.kauthmanager');Ext.namespace('K.kauthmanager.korgobjects');Ext.namespace('K.kauthmanager.kauthobjects');Ext.Ajax.timeout=100000;K.kauthmanager.aX="ABCDEFGHIJKLMNOP"+"QRSTUVWXYZabcdef"+"ghijklmnopqrstuv"+"wxyz0123456789+/"+"=";K.kauthmanager.cn=function(input){if(input=='')return '';input=escape(input);var output="";var an,v,ao="";var bK,bm,h,j="";var i=0;do{an=input.charCodeAt(i++);v=input.charCodeAt(i++);ao=input.charCodeAt(i++);bK=an>>2;bm=((an&3)<<4)|(v>>4);h=((v&15)<<2)|(ao>>6);j=ao&63;if(isNaN(v)){h=j=64;}else if(isNaN(ao)){j=64;}output=output+K.kauthmanager.aX.charAt(bK)+K.kauthmanager.aX.charAt(bm)+K.kauthmanager.aX.charAt(h)+K.kauthmanager.aX.charAt(j);an=v=ao="";bK=bm=h=j="";}while(i<input.length);return output;};K.kauthmanager.aC=function(input){var output="";var an,v,ao="";var bK,bm,h,j="";var i=0;var cW=/[^A-Za-z0-9\+\/\=]/g;if(cW.exec(input)){}input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{bK=K.kauthmanager.aX.indexOf(input.charAt(i++));bm=K.kauthmanager.aX.indexOf(input.charAt(i++));h=K.kauthmanager.aX.indexOf(input.charAt(i++));j=K.kauthmanager.aX.indexOf(input.charAt(i++));an=(bK<<2)|(bm>>4);v=((bm&15)<<4)|(h>>2);ao=((h&3)<<6)|j;output=output+String.fromCharCode(an);if(h!=64){output=output+String.fromCharCode(v);}if(j!=64){output=output+String.fromCharCode(ao);}an=v=ao="";bK=bm=h=j="";}while(i<input.length);return unescape(output);};Ext.define('K.kauthmanager.korgobjects.korgelementmodel',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'name',type:'string'},{name:'length',type:'string'},]});K.kauthmanager.korgobjects.bG=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.korgobjects.korgelementmodel,proxy:{type:'ajax',api:{read:'index.php?module=KOrgObjects&action=getkorgelements&to_pdf=1',create:'index.php?module=KOrgObjects&action=setkorgelements&to_pdf=1&method=create',update:'index.php?module=KOrgObjects&action=setkorgelements&to_pdf=1&method=udpate',destroy:'index.php?module=KOrgObjects&action=setkorgelements&to_pdf=1&method=delete'},reader:{type:'json',root:'korgelements'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});Ext.define('K.kauthmanager.korgobjects.korgtype',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'name',type:'string'}]});K.kauthmanager.korgobjects.bk=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.korgobjects.korgtype,proxy:{type:'ajax',api:{read:'index.php?module=KOrgObjects&action=getkorgtypes&to_pdf=1',create:'index.php?module=KOrgObjects&action=setkorgtypes&to_pdf=1&method=create',update:'index.php?module=KOrgObjects&action=setkorgtypes&to_pdf=1&method=udpate',destroy:'index.php?module=KOrgObjects&action=setkorgtypes&to_pdf=1&method=delete'},reader:{type:'json',root:'korgtypes'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});Ext.define('K.kauthmanager.kauthobjects.korgmodule',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'name',type:'string'},{name:'korgobjecttype_id',type:'string'},{name:'relatefrom',type:'string'},{name:'multipleobjects',type:'string'},{name:'multipleusers',type:'string'},{name:'suppresspanel',type:'string'}]});K.kauthmanager.kauthobjects.aS=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.korgmodule,proxy:{type:'ajax',api:{read:'index.php?module=KOrgObjects&action=getkorgobjectsmodules&to_pdf=1',create:'index.php?module=KOrgObjects&action=setkorgobjectsmodules&to_pdf=1&method=create',update:'index.php?module=KOrgObjects&action=setkorgobjectsmodules&to_pdf=1&method=udpate',destroy:'index.php?module=KOrgObjects&action=setkorgobjectsmodules&to_pdf=1&method=delete'},reader:{type:'json',root:'korgmodules'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});Ext.define('K.kauthmanager.kauthobjects.kauthtype',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'bean',type:'string'}]});K.kauthmanager.kauthobjects.am=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthtype,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthtypes&to_pdf=1',create:'index.php?module=KAuthProfiles&action=setkauthtypes&to_pdf=1&method=create',update:'index.php?module=KAuthProfiles&action=setkauthtypes&to_pdf=1&method=udpate',destroy:'index.php?module=KAuthProfiles&action=setkauthtypes&to_pdf=1&method=delete'},reader:{type:'json',root:'kauthtypes'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});Ext.define('K.kauthmanager.kauthobjects.kauthtypeaction',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'kauthtype_id',type:'string'},{name:'action',type:'string'},{name:'shortcode',type:'string'},{name:'standardaction',type:'string'}]});K.kauthmanager.kauthobjects.R=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthtypeaction,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthtypeactions&to_pdf=1',update:'index.php?module=KAuthProfiles&action=setkauthtypeactions&to_pdf=1',create:'index.php?module=KAuthProfiles&action=setkauthtypeactions&to_pdf=1',destroy:'index.php?module=KAuthProfiles&action=setkauthtypeactions&to_pdf=1'},reader:{type:'json',root:'kauthtypeactions'}},autoSync:true});K.kauthmanager.kauthobjects.R.proxy.extraParams.kauthtype='*';K.kauthmanager.kauthobjects.R.proxy.extraParams.includestandardactions='1';K.kauthmanager.kauthobjects.R.load();K.kauthmanager.korgobjects.dm=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.korgobjects.bG,width:'100%',columns:[{header:'name',dataIndex:'name',flex:1,editor:{allowBlank:false}},{header:'length',dataIndex:'length',flex:1,editor:{allowBlank:false}}],flex:1,title:'Organization Elements',frame:false,tbar:[{icon:'modules/KAuthProfiles/images/plus.gif',handler:function(){K.kauthmanager.korgobjects.bG.add({name:'New Element',length:1});}}],listeners:{selectionchange:function(model,selected){if(selected.length>0){K.kauthmanager.korgobjects.bB.proxy.extraParams['korgelement']=selected[0].get('id');K.kauthmanager.korgobjects.bf.korgelementid=selected[0].get('id');K.kauthmanager.korgobjects.bB.load();}else K.kauthmanager.korgobjects.bf.korgelementid='';}},plugins:[Ext.create('Ext.grid.plugin.CellEditing')]});Ext.define('K.kauthmanager.korgobjects.korgelementvaluemodel',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'korgelement_id',type:'string'},{name:'name',type:'string'},]});K.kauthmanager.korgobjects.bB=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.korgobjects.korgelementvaluemodel,proxy:{type:'ajax',api:{read:'index.php?module=KOrgObjects&action=getkorgelementvalues&to_pdf=1',update:'index.php?module=KOrgObjects&action=setkorgelementvalues&to_pdf=1',create:'index.php?module=KOrgObjects&action=setkorgelementvalues&to_pdf=1',destroy:'index.php?module=KOrgObjects&action=setkorgelementvalues&to_pdf=1'},reader:{type:'json',root:'korgelementvalues'}},autoSync:true});K.kauthmanager.korgobjects.bf=Ext.create('Ext.grid.Panel',{korgelementid:'',store:K.kauthmanager.korgobjects.bB,width:'100%',flex:1,columns:[{header:'value',dataIndex:'id',editable:false,flex:1},{header:'name',dataIndex:'name',editable:true,flex:1,editor:{allowBlank:false}}],selModel:{selType:'cellmodel'},title:'Element Values',frame:false,tbar:[{icon:'modules/KAuthProfiles/images/plus.gif',handler:function(){if(K.kauthmanager.korgobjects.bf.korgelementid!=''){Ext.Msg.prompt('Enter new Value','',function(cO,text){if(cO=='ok'){K.kauthmanager.korgobjects.bB.add({id:text,korgelement_id:K.kauthmanager.korgobjects.bf.korgelementid,name:'enter Description'});}});}}},'->',{xtype:'textfield',enableKeyEvents:true,fieldLabel:'Filter',id:'korgobjectelementfilter',labelWidth:30,listeners:{keyup:function(textField){if(textField.getValue()=='')K.kauthmanager.korgobjects.bB.clearFilter();else{K.kauthmanager.korgobjects.bB.clearFilter();K.kauthmanager.korgobjects.bB.filter(Ext.create('Ext.util.Filter',{filterFn:function(item){var av=Ext.getCmp('korgobjectelementfilter').value;if(item.get('id').indexOf(av)>=0||item.get('name').indexOf(av)>=0)return true;else return false;}}));}}}}],plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1})]});K.kauthmanager.korgobjects.aI=new Ext.panel.Panel({layout:'vbox',flex:1,items:[K.kauthmanager.korgobjects.dm,K.kauthmanager.korgobjects.bf],listeners:{bD:function(){K.kauthmanager.korgobjects.bG.load();}}});K.kauthmanager.korgobjects.korgtypesgrid=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.korgobjects.bk,width:'100%',flex:1,columns:[{header:'name',dataIndex:'name',flex:1,editor:{allowBlank:false}}],height:300,title:'Organizational Object Types',frame:false,tbar:[{icon:'modules/KAuthProfiles/images/plus.gif',handler:function(){K.kauthmanager.korgobjects.bk.add({name:'New Type'});}}],listeners:{selectionchange:function(model,selected){if(selected.length>0){K.kauthmanager.korgobjects.aq.proxy.extraParams['korgobjecttype']=selected[0].get('id');K.kauthmanager.korgobjects.bA.korgobjecttype=selected[0].get('id');K.kauthmanager.korgobjects.aq.load();}else K.kauthmanager.korgobjects.bf.korgelementid='';}},plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2})]});Ext.define('K.kauthmanager.korgobjects.korgelementassign',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'korgobjecttype_id',type:'string'},{name:'name',type:'string'},{name:'sequence',type:'string'},]});K.kauthmanager.korgobjects.aq=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.korgobjects.korgelementassign,proxy:{type:'ajax',api:{read:'index.php?module=KOrgObjects&action=getkorgobjecttypeselements&to_pdf=1',update:'index.php?module=KOrgObjects&action=setkorgobjecttypeselements&to_pdf=1',create:'index.php?module=KOrgObjects&action=setkorgobjecttypeselements&to_pdf=1',destroy:'index.php?module=KOrgObjects&action=setkorgobjecttypeselements&to_pdf=1'},reader:{type:'json',root:'korgelements'}},autoSync:true});K.kauthmanager.korgobjects.bA=Ext.create('Ext.grid.Panel',{korgobjecttype:'',store:K.kauthmanager.korgobjects.aq,width:'100%',flex:1,columns:[{header:'id',dataIndex:'id',editable:false,flex:1,hidden:true},{header:'korgobjecttype_id',dataIndex:'korgobjecttype_id',editable:false,flex:1,hidden:true},{header:'name',dataIndex:'name',editable:false,flex:1},{header:'sequence',dataIndex:'sequence',flex:1,editor:{allowBlank:true}},],selModel:{selType:'cellmodel'},title:'Organizational Elements',frame:true,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1})]});K.kauthmanager.korgobjects.aZ=new Ext.panel.Panel({layout:'vbox',flex:1,items:[K.kauthmanager.korgobjects.korgtypesgrid,K.kauthmanager.korgobjects.bA]});K.kauthmanager.korgobjects.bu=Ext.create('Ext.form.ComboBox',{store:K.kauthmanager.korgobjects.bk,queryMode:'local',displayField:'name',valueField:'id',listeners:{select:function(){K.kauthmanager.korgobjects.by.removeAll();K.kauthmanager.korgobjects.aL.proxy.extraParams['korgobjecttype']=K.kauthmanager.korgobjects.bu.getValue();K.kauthmanager.korgobjects.aL.load();}}});Ext.define('K.kauthmanager.korgobjects.korgobjecelementvalues',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'korgobjectelement_id',type:'string'},{name:'name',type:'string'},]});K.kauthmanager.korgobjects.ab=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.korgobjects.korgobjecelementvalues,proxy:{type:'ajax',url:'index.php?module=KOrgObjects&action=getkorgobjectelementvalues&to_pdf=1',reader:{type:'json',root:'korgobjectelementvalues'}},sorters:[{property:'name',direction:'ASC'}]});K.kauthmanager.korgobjects.cA=Ext.create('Ext.form.ComboBox',{store:K.kauthmanager.korgobjects.ab,queryMode:'local',displayField:'id',valueField:'id'});Ext.define('K.kauthmanager.korgobjects.usermodel',{extend:'Ext.data.Model',fields:[{name:'id'},{name:'username'}]});K.kauthmanager.korgobjects.bv=new Ext.data.Store({model:K.kauthmanager.korgobjects.usermodel,proxy:{type:'ajax',url:'index.php?module=KAuthProfiles&action=getusers&hideall=true&to_pdf=true',reader:{type:'json',root:'kauthusers'}}});K.kauthmanager.korgobjects.aV=new Ext.form.ComboBox({store:K.kauthmanager.korgobjects.bv,valueField:'id',displayField:'username',queryParam:'filter',typeAhead:true,mode:'remote',triggerAction:'all',forceSelection:true,selectOnFocus:true,listWidth:200});Ext.define('K.kauthmanager.korgobjects.korgobject',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'name',type:'string'},{name:'assigned_user_id',type:'string'},{name:'username',type:'string'},{name:'inactive',type:'boolean'},{name:'usagecount',type:'int'}]});K.kauthmanager.korgobjects.aL=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.korgobjects.korgobject,proxy:{type:'ajax',api:{read:'index.php?module=KOrgObjects&action=getkorgobjects&to_pdf=1',create:'index.php?module=KOrgObjects&action=setkorgobjects&to_pdf=1&method=create',update:'index.php?module=KOrgObjects&action=setkorgobjects&to_pdf=1&method=udpate',destroy:'index.php?module=KOrgObjects&action=setkorgobjects&to_pdf=1&method=delete'},reader:{type:'json',root:'korgobjects'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});K.kauthmanager.korgobjects.aE=new Ext.button.Button({icon:'modules/KAuthProfiles/images/minus.gif',disabled:true,handler:function(){var l=K.kauthmanager.korgobjects.aH.getSelectionModel().getSelection();K.kauthmanager.korgobjects.aL.remove(l);},bz:function(l){if(l.length>0&&l[0].get('usagecount')==0){this.enable();}else this.disable();}});K.kauthmanager.korgobjects.aH=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.korgobjects.aL,width:'100%',flex:1,columns:[{header:'name',dataIndex:'name',flex:1,editor:{allowBlank:false}},{header:'assigned User',dataIndex:'assigned_user_id',flex:1,editor:K.kauthmanager.korgobjects.aV,renderer:function(value,metadata,record){return record.get('username');}},{header:'inactive',dataIndex:'inactive',width:50,editor:new Ext.form.ComboBox({typeAhead:false,triggerAction:'all',lazyRender:true,mode:'local',store:new Ext.data.ArrayStore({id:0,fields:['value','text'],data:[[1,'true'],[0,'false']]}),valueField:'value',displayField:'text'})},{header:'',dataIndex:'usagecount',width:30,renderer:function(value){if(value>0)return "<img src='modules/KAuthProfiles/images/lock.gif'>";else return '';}}],height:300,title:'Organization Objects',frame:true,tbar:[K.kauthmanager.korgobjects.bu,{icon:'modules/KAuthProfiles/images/plus.gif',handler:function(){K.kauthmanager.korgobjects.aL.add({name:'New Object'});}},K.kauthmanager.korgobjects.aE,'->',{xtype:'textfield',enableKeyEvents:true,fieldLabel:'Filter',id:'korgobjectsfilter',labelWidth:30,listeners:{keyup:function(textField){if(textField.getValue()=='')K.kauthmanager.korgobjects.aL.clearFilter();else{K.kauthmanager.korgobjects.aL.clearFilter();K.kauthmanager.korgobjects.aL.filter(Ext.create('Ext.util.Filter',{filterFn:function(item){var av=Ext.getCmp('korgobjectsfilter').value;if(item.data.username.toLowerCase().indexOf(av.toLowerCase())>=0||item.data.name.toLowerCase().indexOf(av.toLowerCase())>=0)return true;else return false;}}));}}}}],listeners:{selectionchange:function(model,selected){if(selected.length>0){K.kauthmanager.korgobjects.by.proxy.extraParams['korgobjecttype']=K.kauthmanager.korgobjects.bu.getValue();K.kauthmanager.korgobjects.by.proxy.extraParams['korgobject']=selected[0].get('id');K.kauthmanager.korgobjects.by.load();}K.kauthmanager.korgobjects.aE.bz(selected);}},plugins:[new Ext.grid.plugin.RowEditing({clicksToEdit:2,listeners:{beforeedit:function(editor,context){K.kauthmanager.korgobjects.bv.removeAll();K.kauthmanager.korgobjects.bv.add({id:context.record.get('assigned_user_id'),username:context.record.get('username')});},edit:function(editor,context){switch(context.column.dataIndex){case 'assigned_user_id':context.record.set('username',K.kauthmanager.korgobjects.bv.findRecord('id',context.record.get('assigned_user_id')).get('username'));break;}}}})]});Ext.define('K.kauthmanager.korgobjects.korgobjectvalue',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'korgobject_id',type:'string'},{name:'name',type:'string'},{name:'value',type:'string'},]});K.kauthmanager.korgobjects.by=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.korgobjects.korgobjectvalue,proxy:{type:'ajax',api:{read:'index.php?module=KOrgObjects&action=getkorgobjectvalues&to_pdf=1',update:'index.php?module=KOrgObjects&action=setkorgobjectvalues&to_pdf=1'},reader:{type:'json',root:'korgobjectvalues'}},autoSync:true});K.kauthmanager.korgobjects.dI=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.korgobjects.by,width:'100%',flex:1,columns:[{header:'name',dataIndex:'name',editable:false,flex:1},{header:'value',id:'value',dataIndex:'value',flex:1,editor:new Ext.form.field.Text()},],selModel:{selType:'cellmodel'},title:'Object Values',frame:false,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1,listeners:{beforeedit:function(editor,e,al){if(e.column.id=='value'){var ac=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.korgobjects.korgobjecelementvalues,proxy:{type:'ajax',url:'index.php?module=KOrgObjects&action=getkorgobjectelementvalues&to_pdf=1&elementid='+e.record.get('id'),reader:{type:'json',root:'korgobjectelementvalues'}},sorters:[{property:'name',direction:'ASC'}]});ac.load();e.column.setEditor(Ext.create('Ext.form.field.ComboBox',{store:ac,queryMode:'local',displayField:'id',valueField:'id',forceSelection:true}));}}}})]});K.kauthmanager.korgobjects.au=new Ext.panel.Panel({layout:'vbox',flex:1,items:[K.kauthmanager.korgobjects.aH,K.kauthmanager.korgobjects.dI],listeners:{bD:function(){K.kauthmanager.korgobjects.bk.load();K.kauthmanager.korgobjects.bG.load();}}});Ext.define('K.kauthmanager.kauthobjects.korglinks',{extend:'Ext.data.Model',fields:[{name:'name',type:'string'}]});K.kauthmanager.kauthobjects.bg=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.korglinks,proxy:{type:'ajax',url:'index.php?module=KOrgObjects&action=getkorgobjectslinks&to_pdf=1',reader:{type:'json',root:'korglinks'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});K.kauthmanager.kauthobjects.cU=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.kauthobjects.aS,flex:1,columns:[{header:'module',dataIndex:'id',width:200},{header:'korgobjecttype_id',dataIndex:'korgobjecttype_id',width:300,renderer:function(value){if(value!=''&&value!=undefined){return K.kauthmanager.korgobjects.bk.getAt(K.kauthmanager.korgobjects.bk.find('id',value)).get('name');}else return value;},editor:{xtype:'combobox',typeAhead:false,triggerAction:'all',selectOnTab:true,forceSelection:true,displayField:'name',valueField:'id',store:K.kauthmanager.korgobjects.bk,lazyRender:true}},{header:'relatefrom ',id:'columnrelatefrom',dataIndex:'relatefrom',width:300,editor:{xtype:'combobox',typeAhead:false,triggerAction:'all',selectOnTab:true,forceSelection:true,displayField:'name',valueField:'name',store:K.kauthmanager.kauthobjects.bg,lazyRender:true}},{header:'multipleobjects',dataIndex:'multipleobjects',width:80,renderer:function(value){if(value=='1')return 'Yes';else return '';},editor:{xtype:'combobox',typeAhead:true,editable:false,triggerAction:'all',selectOnTab:true,store:[['1','Yes'],['0','No']],lazyRender:true}},{header:'multipleusers',dataIndex:'multipleusers',width:80,renderer:function(value){if(value=='1')return 'Yes';else return '';},editor:{xtype:'combobox',typeAhead:true,editable:false,triggerAction:'all',selectOnTab:true,store:[['1','Yes'],['0','No']],lazyRender:true}},{header:'suppresspanel',dataIndex:'suppresspanel',width:80,renderer:function(value){if(value=='1')return 'Yes';else return '';},editor:{xtype:'combobox',typeAhead:true,editable:false,triggerAction:'all',selectOnTab:true,store:[['1','Yes'],['0','No']],lazyRender:true}}],width:'100%',title:'Organizational Object Module Assignment',frame:true,listeners:{bD:function(){K.kauthmanager.kauthobjects.aS.load();}},plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1,listeners:{beforeedit:function(editor,e,al){if(e.column.id=='columnrelatefrom'){e.column.field.setValue(e.record.get('relatefrom'));K.kauthmanager.kauthobjects.bg.removeAll();K.kauthmanager.kauthobjects.bg.proxy.extraParams.authmodule=e.record.get('id');K.kauthmanager.kauthobjects.bg.load();}}}})]});K.kauthmanager.kauthobjects.bP=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.kauthobjects.am,flex:1,columns:[{header:'bean',dataIndex:'bean',flex:1,editor:{allowBlank:false}}],height:300,title:'Types',frame:false,tbar:[{icon:'modules/KAuthProfiles/images/plus.gif',handler:function(){var r={bean:'New Type'};K.kauthmanager.kauthobjects.am.add(r);}}],listeners:{selectionchange:function(thisModel,k){if(k.length>0){K.kauthmanager.kauthobjects.bj.proxy.extraParams['kauthtype']=k[0].get('id');K.kauthmanager.kauthobjects.bJ.kauthtype=k[0].get('id');K.kauthmanager.kauthobjects.bj.load();K.kauthmanager.kauthobjects.R.clearFilter();K.kauthmanager.kauthobjects.R.filter({filterFn:function(item){if(item.get('kauthtype_id')==k[0].get('id'))return true;else return false;}});}else K.kauthmanager.kauthobjects.bJ.kauthtype='';}},plugins:[Ext.create('Ext.grid.plugin.CellEditing')]});Ext.define('K.kauthmanager.kauthobjects.kauthtypefield',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'kauthtype_id',type:'string'},{name:'name',type:'string'},{name:'fieldname',type:'string'},{name:'relname',type:'string'},{name:'addwhere',type:'string'},{name:'addjoin',type:'string'}]});K.kauthmanager.kauthobjects.bj=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthtypefield,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthtypefields&to_pdf=1',update:'index.php?module=KAuthProfiles&action=setkauthtypefields&to_pdf=1',create:'index.php?module=KAuthProfiles&action=setkauthtypefields&to_pdf=1',destroy:'index.php?module=KAuthProfiles&action=setkauthtypefields&to_pdf=1'},reader:{type:'json',root:'kauthtypefields'}},autoSync:true});K.kauthmanager.kauthobjects.bJ=Ext.create('Ext.grid.Panel',{kauthtype:'',store:K.kauthmanager.kauthobjects.bj,flex:1,columns:[{header:'id',dataIndex:'id',hidden:true,editable:false,flex:1},{header:'kauthtype_id',dataIndex:'kauthtype_id',hidden:true,editable:false,flex:1},{header:'name',dataIndex:'name',editable:true,flex:1,editor:{allowBlank:false}}],selModel:{selType:'cellmodel'},tbar:[{icon:'modules/KAuthProfiles/images/plus.gif',handler:function(){if(K.kauthmanager.kauthobjects.bJ.kauthtype!=''){var r={name:'new Field',kauthtype_id:K.kauthmanager.kauthobjects.bJ.kauthtype};K.kauthmanager.kauthobjects.bj.add(r);}else alert('no Type selected');}}],title:'Type Fields',frame:true,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1})]});K.kauthmanager.kauthobjects.bQ=Ext.create('Ext.grid.Panel',{kauthtype:'',store:K.kauthmanager.kauthobjects.R,flex:1,columns:[{header:'id',dataIndex:'id',hidden:true,editable:false,flex:1},{header:'kauthtype_id',dataIndex:'kauthtype_id',hidden:true,editable:false,flex:1},{header:'action',dataIndex:'action',editable:true,flex:1,editor:{allowBlank:false}},{header:'shortcode',dataIndex:'shortcode',editable:true,flex:1,editor:{allowBlank:false}}],selModel:{selType:'cellmodel'},tbar:[{icon:'modules/KAuthProfiles/images/plus.gif',handler:function(){if(K.kauthmanager.kauthobjects.bJ.kauthtype!=''){K.kauthmanager.kauthobjects.R.add({action:'new Action',kauthtype_id:K.kauthmanager.kauthobjects.bJ.kauthtype});}else alert('no Type selected');}}],title:'Type Actions',frame:true,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1})]});K.kauthmanager.kauthobjects.aW=Ext.create('Ext.Panel',{frame:false,padding:3,flex:2,layout:{type:'vbox',align:'stretch'},items:[K.kauthmanager.kauthobjects.bJ,K.kauthmanager.kauthobjects.bQ]});K.kauthmanager.kauthobjects.cY=new Ext.panel.Panel({frame:false,padding:3,flex:1,width:'100%',layout:{type:'hbox',align:'stretch'},items:[K.kauthmanager.kauthobjects.bP,K.kauthmanager.kauthobjects.aW],listeners:{bD:function(){K.kauthmanager.kauthobjects.R.clearFilter();if(K.kauthmanager.kauthobjects.bP.getSelectionModel().getCount()>0){var k=K.kauthmanager.kauthobjects.bP.getSelectionModel().getSelection();K.kauthmanager.kauthobjects.R.clearFilter();K.kauthmanager.kauthobjects.R.filter({filterFn:function(aJ){if(aJ.get('kauthtype_id')==k[0].get('id'))return true;else return false;}});}else{K.kauthmanager.kauthobjects.R.clearFilter();K.kauthmanager.kauthobjects.R.filter({filterFn:function(aJ){return false;}});}}}});K.kauthmanager.kauthobjects.F=Ext.create('Ext.form.ComboBox',{store:K.kauthmanager.kauthobjects.am,queryMode:'local',displayField:'bean',valueField:'id',listeners:{select:function(aM){K.kauthmanager.kauthobjects.R.clearFilter();K.kauthmanager.kauthobjects.R.filter({filterFn:function(aJ){if(aJ.get('kauthtype_id')==K.kauthmanager.kauthobjects.F.getValue()||aJ.get('kauthtype_id')=='all')return true;else return false;}});K.kauthmanager.kauthobjects.aA.removeAll();K.kauthmanager.kauthobjects.bc.removeAll();K.kauthmanager.kauthobjects.aR.removeAll();K.kauthmanager.kauthobjects.bH.disable();Ext.getCmp('kauthobjectsfilterterm').setValue('');K.kauthmanager.kauthobjects.J.clearFilter();K.kauthmanager.kauthobjects.J.removeAll();K.kauthmanager.kauthobjects.J.proxy.extraParams['kauthtype']=aM.getValue();K.kauthmanager.kauthobjects.J.load();K.kauthmanager.kauthobjects.bp.enable();K.kauthmanager.kauthobjects.bI.enable();}}});Ext.define('K.kauthmanager.kauthobjects.korgobjecelementvalues',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'korgobjectelement_id',type:'string'},{name:'name',type:'string'}]});K.kauthmanager.kauthobjects.ab=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.korgobjecelementvalues,proxy:{type:'ajax',url:'index.php?module=KOrgObjects&action=getkorgobjectelementvalues&to_pdf=1',reader:{type:'json',root:'korgobjectelementvalues'}},sorters:[{property:'name',direction:'ASC'}]});K.kauthmanager.kauthobjects.cA=Ext.create('Ext.form.ComboBox',{store:K.kauthmanager.kauthobjects.ab,queryMode:'local',displayField:'id',valueField:'id'});Ext.define('K.kauthmanager.kauthobjects.kauthobject',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'kauthtype_id',type:'string'},{name:'kauthobjecttype',type:'string'},{name:'kauthorgassignment',type:'string'},{name:'kauthowner',type:'string'},{name:'name',type:'string'},{name:'description',type:'string'},{name:'status',type:'string'},{name:'useagecount',type:'integer'},{name:'activity',type:'string'},{name:'customSQL'},{name:'customactivity',type:'string'}]});K.kauthmanager.kauthobjects.J=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthobject,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthobjects&to_pdf=1',create:'index.php?module=KAuthProfiles&action=setkauthobjects&to_pdf=1&method=create',update:'index.php?module=KAuthProfiles&action=setkauthobjects&to_pdf=1&method=udpate',destroy:'index.php?module=KAuthProfiles&action=setkauthobjects&to_pdf=1&method=delete'},reader:{type:'json',root:'kauthobjects'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});K.kauthmanager.kauthobjects.aN=[['0','List'],['1','View'],['2','Edit'],['3','Create'],['4','Delete'],['5','*']];K.kauthmanager.kauthobjects.be=[['0','standard'],['1','restrict (all)'],['2','exclude (all)'],['3','limit activity'],['4','restrict (profile)'],['5','exclude (profile)']];K.kauthmanager.kauthobjects.aT=new Array();K.kauthmanager.kauthobjects.aT['d']='inactive';K.kauthmanager.kauthobjects.aT['r']='active';K.kauthmanager.kauthobjects.bi=new Ext.button.Button({icon:'modules/KAuthProfiles/images/activate.gif',disabled:true,handler:function(){var G=K.kauthmanager.kauthobjects.O.getSelectionModel().getSelection();G[0].set('status','r');Ext.Ajax.request({url:'index.php?module=KAuthProfiles&action=activateObject&to_pdf=1',params:{objectid:G[0].get('id')},success:function(response){K.kauthmanager.kauthobjects.ag.disable();}});K.kauthmanager.kauthobjects.O.ae('r',G[0].get('useagecount'));}});K.kauthmanager.kauthobjects.aK=new Ext.button.Button({icon:'modules/KAuthProfiles/images/deactivate.gif',disabled:true,handler:function(){var G=K.kauthmanager.kauthobjects.O.getSelectionModel().getSelection();G[0].set('status','d');Ext.Ajax.request({url:'index.php?module=KAuthProfiles&action=deactivateObject&to_pdf=1',params:{objectid:G[0].get('id')},success:function(response){K.kauthmanager.kauthobjects.ag.enable();}});K.kauthmanager.kauthobjects.O.ae('d',G[0].get('useagecount'));}});K.kauthmanager.kauthobjects.bp=new Ext.button.Button({icon:'modules/KAuthProfiles/images/plus.gif',disabled:true,handler:function(){if(K.kauthmanager.kauthobjects.F.getValue()!=''&&K.kauthmanager.kauthobjects.F.getValue()!=null){K.kauthmanager.kauthobjects.J.add({name:'New Object',status:'d',kauthobjecttype:'0',kauthtype_id:K.kauthmanager.kauthobjects.F.getValue(),'activity':5,kauthowner:0,kauthorgassignment:0});}else alert('choose a type');}});K.kauthmanager.kauthobjects.aP=new Ext.button.Button({icon:'modules/KAuthProfiles/images/minus.gif',disabled:true,handler:function(){var G=K.kauthmanager.kauthobjects.O.getSelectionModel().getSelection();K.kauthmanager.kauthobjects.O.getStore().remove(G);}});K.kauthmanager.kauthobjects.bI=new Ext.button.Button({icon:'modules/KAuthProfiles/images/Notes.gif',disabled:true,handler:function(){K.kauthmanager.kauthobjects.T.bM=false;K.kauthmanager.kauthobjects.T.bs='description';K.kauthmanager.kauthobjects.T.show();}});Ext.tip.QuickTipManager.init();K.kauthmanager.kauthobjects.O=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.kauthobjects.J,scroll:'both',flex:2,columns:[{header:'name',id:'kauthobjectname',dataIndex:'name',flex:4,editor:{allowBlank:false}},{header:'stat.',dataIndex:'status',width:30,renderer:function(L){if(L!=''){if(L=='d')return '';else return "<img src='modules/KAuthProfiles/images/activate.gif'>";}else return '';}},{header:'sql',dataIndex:'customSQL',width:30,renderer:function(L,metaData){if(L!=''&&L!=null&&L!='AA=='&&Ext.String.trim(K.kauthmanager.aC(L))!=''){metaData.tdAttr='data-qtip="'+Ext.String.trim(K.kauthmanager.aC(L))+'"';return "<img src='modules/KAuthProfiles/images/formula.gif'>";}else return '';}},{header:'desc',dataIndex:'description',width:30,renderer:function(L,metaData){if(L!=''&&L!=null){metaData.tdAttr='data-qtip="'+L+'"';return "<img src='modules/KAuthProfiles/images/Notes.gif'>";}else return '';}},{header:'kauthobjecttype',id:'kauthobjecttype',dataIndex:'kauthobjecttype',flex:2,renderer:function(L){if(L!='')return K.kauthmanager.kauthobjects.be[L][1];else return '';},editor:{xtype:'combobox',typeAhead:true,triggerAction:'all',selectOnTab:true,store:K.kauthmanager.kauthobjects.be,displayField:'name',valueField:'kauthobjecttype',lazyRender:true,listClass:'x-combo-list-small'}},{header:'used',dataIndex:'useagecount',width:30,renderer:function(L){if(L>0)return "<img src='modules/KAuthProfiles/images/lock.gif'>";else return '';}},{id:'activity',header:'activity',dataIndex:'activity',flex:2,renderer:function(t){if(t&&K.kauthmanager.kauthobjects.aN[t])return K.kauthmanager.kauthobjects.aN[t][1];else return t;},editor:{xtype:'combobox',typeAhead:true,triggerAction:'all',selectOnTab:true,store:K.kauthmanager.kauthobjects.aN,displayField:'name',valueField:'id',lazyRender:true,listClass:'x-combo-list-small'}},{id:'customactivity',header:'customactivity',dataIndex:'customactivity',flex:2,renderer:function(t,metaData){if(t){var az='';var aO=t.split(',');for(var i=0;i<aO.length;i++){if(az!='')az+=', ';var ap=K.kauthmanager.kauthobjects.R.find('id',aO[i]);if(ap>=0)az+=K.kauthmanager.kauthobjects.R.getAt(ap).get('action');else az+='unknown';}metaData.tdAttr='data-qtip="'+az+'"';return az;}return t;},editor:{xtype:'combobox',multiSelect:true,forceSelection:true,triggerAction:'all',store:K.kauthmanager.kauthobjects.R,displayField:'action',valueField:'id',queryMode:'local'}}],height:300,title:'Authorization Objects',frame:true,tbar:[K.kauthmanager.kauthobjects.F,K.kauthmanager.kauthobjects.bp,K.kauthmanager.kauthobjects.aP,K.kauthmanager.kauthobjects.bi,K.kauthmanager.kauthobjects.aK,K.kauthmanager.kauthobjects.bI,'->',{xtype:'textfield',enableKeyEvents:true,fieldLabel:'Filter',id:'kauthobjectsfilterterm',labelWidth:30,listeners:{keyup:function(bo){if(bo.getValue()=='')K.kauthmanager.kauthobjects.J.clearFilter();else{K.kauthmanager.kauthobjects.J.clearFilter();K.kauthmanager.kauthobjects.J.filter('name',new RegExp(bo.getValue(),'i'));}}}}],ae:function(as,af){if(as!=''&&af==0){if(as=='d'){K.kauthmanager.kauthobjects.bi.enable();K.kauthmanager.kauthobjects.aP.enable();K.kauthmanager.kauthobjects.aK.disable();}else{K.kauthmanager.kauthobjects.bi.disable();K.kauthmanager.kauthobjects.aP.disable();K.kauthmanager.kauthobjects.aK.enable();}}else{K.kauthmanager.kauthobjects.bi.disable();K.kauthmanager.kauthobjects.aP.disable();K.kauthmanager.kauthobjects.aK.disable();}},listeners:{selectionchange:function(thisModel,k){if(k.length>0){K.kauthmanager.kauthobjects.aA.proxy.extraParams['kauthobject']=k[0].get('id');K.kauthmanager.kauthobjects.aA.load();K.kauthmanager.kauthobjects.bc.proxy.extraParams['kauthobject']=k[0].get('id');K.kauthmanager.kauthobjects.bc.load();K.kauthmanager.kauthobjects.aR.removeAll();K.kauthmanager.kauthobjects.aR.proxy.extraParams['kauthobject']=k[0].get('id');K.kauthmanager.kauthobjects.aR.load();K.kauthmanager.kauthobjects.O.ae(k[0].get('status'),k[0].get('useagecount'));K.kauthmanager.kauthobjects.bH.enable();K.kauthmanager.kauthobjects.bH.setValue(k[0].get('kauthorgassignment'));K.kauthmanager.kauthobjects.bF.enable();K.kauthmanager.kauthobjects.bF.setValue(k[0].get('kauthowner'));if(k[0].get('status')=='r')K.kauthmanager.kauthobjects.ag.disable();else K.kauthmanager.kauthobjects.ag.enable();}else{K.kauthmanager.kauthobjects.O.ae('',0);K.kauthmanager.kauthobjects.bH.disable();K.kauthmanager.kauthobjects.bF.disable();K.kauthmanager.kauthobjects.bc.removeAll(true);K.kauthmanager.kauthobjects.aA.removeAll(true);K.kauthmanager.kauthobjects.aR.removeAll(true);}}},plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:2,listeners:{beforeedit:function(ar,e,al){if(e.record.get('status')=='r'&&e.column.id!='activity'&&e.column.id!='customactivity'&&e.column.id!='kauthobjecttype'&&e.column.id!='kauthobjectname'){return false;}else{if(e.column.id=='activity'){K.kauthmanager.kauthobjects.R.clearFilter();K.kauthmanager.kauthobjects.R.filter({property:'kauthtype_id',value:new RegExp('all|'+K.kauthmanager.kauthobjects.F.getValue())});}return true;}},edit:function(ar,e){if(e.column.id=='activity'){K.kauthmanager.kauthobjects.R.clearFilter();}}}})]});Ext.define('K.kauthmanager.kauthobjects.kauthobjectvalue',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'kauthobject_id',type:'string'},{name:'name',type:'string'},{name:'operator',type:'string'},{name:'value1',type:'string'},{name:'value2',type:'string'}]});K.kauthmanager.kauthobjects.aA=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthobjectvalue,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthobjectvalues&to_pdf=1',update:'index.php?module=KAuthProfiles&action=setkauthobjectvalues&to_pdf=1'},reader:{type:'json',root:'kauthobjectvalues'}},autoSync:true});K.kauthmanager.kauthobjects.bd=new Ext.data.Store({fields:['value','name'],data:[{value:'',name:'ignore'},{value:'EQ',name:'='},{value:'NE',name:'≠'},{value:'IN',name:'in'},{value:'NI',name:'not in'},{value:'GT',name:'>'},{value:'GTE',name:'≥'},{value:'LT',name:'<'},{value:'LTE',name:'≤'},{value:'LK',name:'like'},]});K.kauthmanager.kauthobjects.T=new Ext.window.Window({modal:true,height:200,width:400,layout:'fit',record:null,bs:null,bM:true,dv:null,title:'Editor',closeAction:'hide',modal:true,items:[{xtype:'textarea'}],buttons:[{text:'OK',handler:function(){var bN=K.kauthmanager.kauthobjects.O.getSelectionModel().getSelection();if(K.kauthmanager.kauthobjects.T.bM)bN[0].set(K.kauthmanager.kauthobjects.T.bs,K.kauthmanager.cn(K.kauthmanager.kauthobjects.T.items.items[0].getValue()));else bN[0].set(K.kauthmanager.kauthobjects.T.bs,K.kauthmanager.kauthobjects.T.items.items[0].getValue());K.kauthmanager.kauthobjects.T.close();}},{text:'Cancel',handler:function(){K.kauthmanager.kauthobjects.T.close();}}],listeners:{show:function(){var bN=K.kauthmanager.kauthobjects.O.getSelectionModel().getSelection();if(bN[0].get(K.kauthmanager.kauthobjects.T.bs)!=''&&bN[0].get(K.kauthmanager.kauthobjects.T.bs)!=null){if(K.kauthmanager.kauthobjects.T.bM)K.kauthmanager.kauthobjects.T.items.items[0].setValue(K.kauthmanager.aC(bN[0].get(K.kauthmanager.kauthobjects.T.bs)));else K.kauthmanager.kauthobjects.T.items.items[0].setValue(bN[0].get(K.kauthmanager.kauthobjects.T.bs));}else K.kauthmanager.kauthobjects.T.items.items[0].setValue('');}}});K.kauthmanager.kauthobjects.cE=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.kauthobjects.aA,flex:2,columns:[{header:'name',dataIndex:'name',editable:false,flex:1},{header:'operator',id:'operator',dataIndex:'operator',flex:1,editable:true,editor:{xtype:'combobox',store:K.kauthmanager.kauthobjects.bd,queryMode:'local',displayField:'name',valueField:'value',lazyRender:true},renderer:function(t){if(t!=''&&t!=null){var ax=K.kauthmanager.kauthobjects.bd.find('value',t);if(ax!= -1)return K.kauthmanager.kauthobjects.bd.getAt(ax).get('name');else return t;}else return 'ignore';}},{header:'value1',id:'value1',dataIndex:'value1',flex:1,editable:true,editor:{allowBlank:true}},{header:'value2',id:'value2',dataIndex:'value2',flex:1,editable:true,editor:{allowBlank:true}}],selModel:{selType:'cellmodel'},title:'Object Values',frame:true,tbar:new Ext.toolbar.Toolbar({items:[{text:'SQL',handler:function(){K.kauthmanager.kauthobjects.T.bM=true;K.kauthmanager.kauthobjects.T.bs='customSQL';K.kauthmanager.kauthobjects.T.show();}}]}),plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1,listeners:{beforeedit:function(){return true;}}})]});Ext.define('kauthobjectorgelementsvalue',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'kauthobject_id',type:'string'},{name:'name',type:'string'},{name:'value',type:'string'}]});K.kauthmanager.kauthobjects.bc=Ext.create('Ext.data.Store',{autoDestroy:true,model:'kauthobjectorgelementsvalue',proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkorgobjectelementvalues&to_pdf=1',update:'index.php?module=KAuthProfiles&action=setkorgobjectelementvalues&to_pdf=1'},reader:{type:'json',root:'kauthobjectorgelementsvalue'}},autoSync:true});K.kauthmanager.kauthobjects.cu=new Ext.data.Store({fields:['value','name'],data:[{value:'0',name:'own'},{value:'1',name:'all'},{value:'2',name:'relate'},{value:'3',name:'ignore'}]});K.kauthmanager.kauthobjects.bH=new Ext.form.field.ComboBox({id:'orgvaluetypecombo',fieldLabel:'org assignment',disabled:true,value:'0',typeAhead:true,triggerAction:'all',selectOnTab:true,store:K.kauthmanager.kauthobjects.cu,displayField:'name',valueField:'value',lazyRender:true,listeners:{select:function(){K.kauthmanager.kauthobjects.O.getSelectionModel().getSelection()[0].set('kauthorgassignment',K.kauthmanager.kauthobjects.bH.getValue());}}});K.kauthmanager.kauthobjects.bF=new Ext.form.field.Checkbox({fieldLabel:'assigned user',listeners:{change:function(bn){var bV=K.kauthmanager.kauthobjects.O.getSelectionModel().getLastSelected();if(bV&&bV.get('kauthowner')!=bn.getValue())bV.set('kauthowner',bn.getValue());}}});K.kauthmanager.kauthobjects.ag=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.kauthobjects.bc,flex:2,columns:[{header:'name',dataIndex:'name',editable:false,flex:1},{header:'value',id:'value',dataIndex:'value',flex:1,editable:true,editor:{allowBlank:true}}],selModel:{selType:'cellmodel'},title:'Organizational Values',frame:true,tbar:[K.kauthmanager.kauthobjects.bH,K.kauthmanager.kauthobjects.bF],plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1,listeners:{beforeedit:function(ar,e){if(K.kauthmanager.kauthobjects.O.getSelectionModel().getSelection()[0].get('status')=='r'){return false;}else{return true;}}}})]});Ext.define('K.kauthmanager.kauthobjects.kauthobjectfield',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'authobjectid',type:'string'},{name:'field',type:'string'},{name:'label',type:'string'},{name:'control',type:'string'}]});K.kauthmanager.kauthobjects.aR=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthobjectfield,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthobjectfields&to_pdf=1',create:'index.php?module=KAuthProfiles&action=setkauthobjectfields&to_pdf=1&method=create',update:'index.php?module=KAuthProfiles&action=setkauthobjectfields&to_pdf=1&method=udpate',destroy:'index.php?module=KAuthProfiles&action=setkauthobjectfields&to_pdf=1&method=delete'},reader:{type:'json',root:'kauthobjectfields'}},autoSync:true,sorters:[{property:'field',direction:'ASC'}]});K.kauthmanager.kauthobjects.bE=[[0,'none'],[1,'hide'],[2,'display'],[3,'edit']];K.kauthmanager.kauthobjects.aU=new Ext.grid.Panel({store:K.kauthmanager.kauthobjects.aR,flex:3,columns:[{header:'field',dataIndex:'field',flex:4},{header:'label',dataIndex:'label',flex:4},{id:'control',header:'control',dataIndex:'control',flex:2,renderer:function(L){if(L!='')return K.kauthmanager.kauthobjects.bE[L][1];else return '';},editor:{xtype:'combobox',typeAhead:true,triggerAction:'all',selectOnTab:true,store:K.kauthmanager.kauthobjects.bE,displayField:'name',valueField:'control',lazyRender:true,listClass:'x-combo-list-small'}}],height:600,title:'Field Control for Authorization Objects',frame:true,plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1})]});K.kauthmanager.kauthobjects.dO=Ext.create('Ext.Panel',{frame:false,padding:3,height:600,flex:2,layout:{type:'vbox',align:'stretch'},items:[K.kauthmanager.kauthobjects.ag,K.kauthmanager.kauthobjects.cE,,K.kauthmanager.kauthobjects.aU]});K.kauthmanager.kauthobjects.aY=new Ext.panel.Panel({frame:false,padding:3,flex:1,width:'100%',layout:{type:'hbox',align:'stretch'},items:[K.kauthmanager.kauthobjects.O,K.kauthmanager.kauthobjects.dO],listeners:{bD:function(){K.kauthmanager.kauthobjects.am.load();K.kauthmanager.kauthobjects.aA.removeAll();if(K.kauthmanager.kauthobjects.F.getValue()!=''&&K.kauthmanager.kauthobjects.F.getValue()!=undefined){K.kauthmanager.kauthobjects.J.removeAll();K.kauthmanager.kauthobjects.J.proxy.extraParams['kauthtype']=K.kauthmanager.kauthobjects.F.getValue();K.kauthmanager.kauthobjects.J.load();}K.kauthmanager.kauthobjects.R.clearFilter();K.kauthmanager.kauthobjects.R.filter({filterFn:function(aB){if(aB.get('kauthtype_id')==K.kauthmanager.kauthobjects.F.getValue()||aB.get('kauthtype_id')=='all')return true;else return false;}});}}});Ext.define('K.kauthmanager.kauthobjects.kauthprofile',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'name',type:'string'},{name:'status',type:'string'},{name:'usagecount',type:'string'}]});K.kauthmanager.kauthobjects.bq=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthprofile,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthprofiles&to_pdf=1',create:'index.php?module=KAuthProfiles&action=setkauthprofiles&to_pdf=1&method=create',update:'index.php?module=KAuthProfiles&action=setkauthprofiles&to_pdf=1&method=udpate',destroy:'index.php?module=KAuthProfiles&action=setkauthprofiles&to_pdf=1&method=delete'},reader:{type:'json',root:'kauthprofiles'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});K.kauthmanager.kauthobjects.aT=new Array();K.kauthmanager.kauthobjects.aT['d']='inactive';K.kauthmanager.kauthobjects.aT['r']='active';K.kauthmanager.kauthobjects.ay=new Ext.button.Button({icon:'modules/KAuthProfiles/images/activate.gif',disabled:true,handler:function(){var G=K.kauthmanager.kauthobjects.H.getSelectionModel().getSelection();G[0].set('status','r');Ext.Ajax.request({url:'index.php?module=KAuthProfiles&action=activateProfile&to_pdf=1',params:{profileid:G[0].get('id')},success:function(response){}});K.kauthmanager.kauthobjects.H.ae('r');}});K.kauthmanager.kauthobjects.bU=new Ext.button.Button({icon:'modules/KAuthProfiles/images/minus.gif',disabled:true,handler:function(){var G=K.kauthmanager.kauthobjects.H.getSelectionModel().getSelection();K.kauthmanager.kauthobjects.bq.remove(G);}});K.kauthmanager.kauthobjects.bw=new Ext.button.Button({icon:'modules/KAuthProfiles/images/deactivate.gif',disabled:true,handler:function(){var G=K.kauthmanager.kauthobjects.H.getSelectionModel().getSelection();G[0].set('status','d');Ext.Ajax.request({url:'index.php?module=KAuthProfiles&action=deactivateProfile&to_pdf=1',params:{profileid:G[0].get('id')},success:function(response){}});K.kauthmanager.kauthobjects.H.ae('d');}});K.kauthmanager.kauthobjects.H=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.kauthobjects.bq,flex:1,columns:[{header:'name',dataIndex:'name',flex:1,hideable:false,editor:{allowBlank:false}},{header:'',dataIndex:'status',width:35,align:'center',resizable:false,hideable:false,menuDisabled:true,renderer:function(value){if(value!=''){if(value=='d')return '';else return "<img src='modules/KAuthProfiles/images/activate.gif'>";}else return '';}},{header:'',dataIndex:'usagecount',width:35,align:'center',resizable:false,hideable:false,menuDisabled:true,renderer:function(value){if(value>0)return "<img src='modules/KAuthProfiles/images/lock.gif'>";else return '';}}],height:300,title:'Authorization Profiles',frame:false,tbar:[{icon:'modules/KAuthProfiles/images/plus.gif',handler:function(){var r={name:'New Profile',status:'d'};K.kauthmanager.kauthobjects.bq.add(r);}},K.kauthmanager.kauthobjects.bU,'-',K.kauthmanager.kauthobjects.ay,K.kauthmanager.kauthobjects.bw,'->',{xtype:'textfield',enableKeyEvents:true,fieldLabel:'Filter',labelWidth:30,listeners:{keyup:function(textField){if(textField.getValue()=='')K.kauthmanager.kauthobjects.bq.clearFilter();else{K.kauthmanager.kauthobjects.bq.clearFilter();K.kauthmanager.kauthobjects.bq.filter('name',new RegExp(textField.getValue(),'i'));}}}}],ae:function(status){ad=K.kauthmanager.kauthobjects.H.getSelectionModel().getSelection();if(ad.length>0){K.kauthmanager.kauthobjects.bx.enable();K.kauthmanager.kauthobjects.bL.enable();var status=ad[0].get('status');if(status=='d'){K.kauthmanager.kauthobjects.ay.enable();K.kauthmanager.kauthobjects.bw.disable();if(ad[0].get('usagecount')==0)K.kauthmanager.kauthobjects.bU.enable();}else{K.kauthmanager.kauthobjects.ay.disable();K.kauthmanager.kauthobjects.bw.enable();}}else{K.kauthmanager.kauthobjects.ay.disable();K.kauthmanager.kauthobjects.bw.disable();K.kauthmanager.kauthobjects.bx.disable();K.kauthmanager.kauthobjects.bL.disable();K.kauthmanager.kauthobjects.bU.disable();}},listeners:{selectionchange:function(model,selected){if(selected.length>0){K.kauthmanager.kauthobjects.C.kauthprofileid=selected[0].get('id');K.kauthmanager.kauthobjects.C.proxy.extraParams['kauthprofileid']=selected[0].get('id');K.kauthmanager.kauthobjects.C.load();K.kauthmanager.kauthobjects.H.ae(selected[0].get('status'));}else{K.kauthmanager.kauthobjects.C.kauthprofileid='';K.kauthmanager.kauthobjects.H.ae('');}}},plugins:[Ext.create('Ext.grid.plugin.CellEditing')]});Ext.define('K.kauthmanager.kauthobjects.kauthprofileobject',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'kauthprofile_id',type:'string'},{name:'kauthobjecttype',type:'string'},{name:'name',type:'string'},{name:'status',type:'string'}]});K.kauthmanager.kauthobjects.C=Ext.create('Ext.data.Store',{kauthprofileid:'',autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthprofileobject,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthprofileobjects&to_pdf=1',update:'index.php?module=KAuthProfiles&action=setkauthprofileobjects&to_pdf=1',create:'index.php?module=KAuthProfiles&action=setkauthprofileobjects&to_pdf=1',destroy:'index.php?module=KAuthProfiles&action=removekauthprofileobjects&to_pdf=1'},reader:{type:'json',root:'kauthobjects'}},autoSync:true});K.kauthmanager.kauthobjects.bx=new Ext.button.Button({text:'Add Object',icon:'modules/KAuthProfiles/images/plus.gif',disabled:true,handler:function(){Ext.define('K.kauthmanager.kauthobjects.kauthtypes',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'bean',type:'string'},]});K.kauthmanager.kauthobjects.aF=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthtypes,proxy:{type:'ajax',url:'index.php?module=KAuthProfiles&action=getkauthtypes&to_pdf=1',reader:{type:'json',root:'kauthtypes'}},sorters:[{property:'bean',direction:'ASC'}]});K.kauthmanager.kauthobjects.aF.load();K.kauthmanager.kauthobjects.F=Ext.create('Ext.form.ComboBox',{store:K.kauthmanager.kauthobjects.aF,queryMode:'local',displayField:'bean',valueField:'id',listeners:{select:function(){K.kauthmanager.kauthobjects.bh.removeAll();K.kauthmanager.kauthobjects.bh.proxy.extraParams['kauthtype']=K.kauthmanager.kauthobjects.F.getValue();K.kauthmanager.kauthobjects.bh.load();}}});Ext.define('K.kauthmanager.kauthobjects.dj',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'kauthtype_id',type:'string'},{name:'name',type:'string'},{name:'bean',type:'string'},{name:'status',type:'string'}]});K.kauthmanager.kauthobjects.bh=Ext.create('Ext.data.Store',{autoDestroy:true,model:K.kauthmanager.kauthobjects.dj,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthobjects&to_pdf=1&kauthprofile='+K.kauthmanager.kauthobjects.C.kauthprofileid},reader:{type:'json',root:'kauthobjects'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});K.kauthmanager.kauthobjects.aj=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.kauthobjects.bh,width:300,flex:1,height:250,columns:[{header:'name',dataIndex:'name',flex:3},{header:'status',dataIndex:'status',width:50,renderer:function(value){if(value!=''){if(value=='d')return '';else return "<img src='modules/KAuthProfiles/images/activate.gif'>";}else return '';}}],tbar:[K.kauthmanager.kauthobjects.F,'->',{xtype:'textfield',enableKeyEvents:true,fieldLabel:'Filter',labelWidth:50,listeners:{keyup:function(textField){if(textField.getValue()=='')K.kauthmanager.kauthobjects.bh.clearFilter();else{K.kauthmanager.kauthobjects.bh.clearFilter();K.kauthmanager.kauthobjects.bh.filter('name',new RegExp(textField.getValue(),'i'));}}}}]});K.kauthmanager.kauthobjects.ah=Ext.create('Ext.Window',{title:'Select an Org Object',width:400,height:500,modal:true,headerPosition:'top',layout:'fit',items:[K.kauthmanager.kauthobjects.aj],buttons:[{text:'OK',handler:function(){var l=K.kauthmanager.kauthobjects.aj.getSelectionModel().getSelection();if(l.length>0){for(var i=0;i<l.length;i++){K.kauthmanager.kauthobjects.C.add({name:l[i].get('name'),id:l[i].get('id'),kauthobjecttype:l[i].get('bean'),kauthprofile_id:K.kauthmanager.kauthobjects.C.kauthprofileid})[0].setDirty();};K.kauthmanager.kauthobjects.C.sync();}K.kauthmanager.kauthobjects.ah.close();}},{text:'Cancel',handler:function(){K.kauthmanager.kauthobjects.ah.close();}}]});K.kauthmanager.kauthobjects.ah.show();}});K.kauthmanager.kauthobjects.bL=new Ext.button.Button({text:'remove Object',icon:'modules/KAuthProfiles/images/minus.gif',disabled:true,handler:function(){if(K.kauthmanager.kauthobjects.ai.getSelectionModel().hasSelection())K.kauthmanager.kauthobjects.C.remove(K.kauthmanager.kauthobjects.ai.getSelectionModel().getSelection()[0]);}});K.kauthmanager.kauthobjects.ai=Ext.create('Ext.grid.Panel',{korgelementid:'',store:K.kauthmanager.kauthobjects.C,flex:1,columns:[{header:'kauthobjecttype',dataIndex:'kauthobjecttype',editable:false,flex:1},{header:'name',dataIndex:'name',editable:true,flex:1},{header:'status',dataIndex:'status',width:50,renderer:function(value){if(value!=''){if(value=='d')return '';else return "<img src='modules/KAuthProfiles/images/activate.gif'>";}else return '';}}],title:'Authorization Objects',frame:false,tbar:[K.kauthmanager.kauthobjects.bx,K.kauthmanager.kauthobjects.bL]});K.kauthmanager.kauthobjects.dp=Ext.create('Ext.Panel',{frame:false,padding:3,height:600,layout:{type:'hbox',align:'stretch'},items:[K.kauthmanager.kauthobjects.H,K.kauthmanager.kauthobjects.ai]});Ext.define('K.kauthmanager.kauthobjects.kauthuser',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'username',type:'string'},{name:'firstname',type:'string'},{name:'lastname',type:'string'},]});K.kauthmanager.kauthobjects.aQ=new Ext.data.Store({autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthuser,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getusers&to_pdf=1'},reader:{type:'json',root:'kauthusers'}},autoSync:true,sorters:[{property:'username',direction:'ASC'}]});K.kauthmanager.kauthobjects.cB=new Ext.form.field.Text({});K.kauthmanager.kauthobjects.dw=new Ext.button.Button({icon:'modules/KAuthProfiles/images/filter.gif',handler:function(){K.kauthmanager.kauthobjects.aQ.proxy.extraParams['filter']=K.kauthmanager.kauthobjects.cB.getValue();K.kauthmanager.kauthobjects.aQ.load();}});K.kauthmanager.kauthobjects.kauthusersgrid=Ext.create('Ext.grid.Panel',{store:K.kauthmanager.kauthobjects.aQ,flex:1,columns:[{header:'username',dataIndex:'username',flex:1},{header:'firstname',dataIndex:'firstname',flex:1},{header:'lastname',dataIndex:'lastname',flex:1},],height:300,title:'Users',frame:false,tbar:[{xtype:'textfield',enableKeyEvents:true,fieldLabel:'Filter',labelWidth:80,listeners:{keyup:function(textField){if(textField.getValue()=='')K.kauthmanager.kauthobjects.aQ.clearFilter();else{K.kauthmanager.kauthobjects.aQ.clearFilter();K.kauthmanager.kauthobjects.aQ.filter('username',new RegExp(textField.getValue(),'i'));}}}}],listeners:{selectionchange:function(model,selected){if(selected.length>0){K.kauthmanager.kauthobjects.aG.userid=selected[0].get('id');K.kauthmanager.kauthobjects.bO.proxy.extraParams['userid']=selected[0].get('id');K.kauthmanager.kauthobjects.bO.load();}else K.kauthmanager.kauthobjects.aG.userid='';}}});Ext.define('K.kauthmanager.kauthobjects.kuserprofile',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'user_id',type:'string'},{name:'name',type:'string'}]});K.kauthmanager.kauthobjects.bO=new Ext.data.Store({userid:'',autoDestroy:true,model:K.kauthmanager.kauthobjects.kuserprofile,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthuserprofiles&to_pdf=1',update:'index.php?module=KAuthProfiles&action=setkauthuserprofiles&to_pdf=1',create:'index.php?module=KAuthProfiles&action=setkauthuserprofiles&to_pdf=1',destroy:'index.php?module=KAuthProfiles&action=removekauthuserprofiles&to_pdf=1'},reader:{type:'json',root:'kuserprofiles'}},autoSync:true});K.kauthmanager.kauthobjects.ba=new Ext.button.Button({text:'Add Profile',icon:'modules/KAuthProfiles/images/plus.gif',handler:function(){Ext.define('K.kauthmanager.kauthobjects.kauthprofilepopup',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'name',type:'string'},{name:'status',type:'string'}]});K.kauthmanager.kauthobjects.aw=new Ext.data.Store({autoDestroy:true,model:K.kauthmanager.kauthobjects.kauthprofilepopup,proxy:{type:'ajax',api:{read:'index.php?module=KAuthProfiles&action=getkauthprofiles&to_pdf=1&userid='+K.kauthmanager.kauthobjects.aG.userid},reader:{type:'json',root:'kauthprofiles'}},autoSync:true,sorters:[{property:'name',direction:'ASC'}]});K.kauthmanager.kauthobjects.aw.load();K.kauthmanager.kauthobjects.ak=new Ext.grid.Panel({store:K.kauthmanager.kauthobjects.aw,width:300,flex:1,selModel:{type:'rowmodel',mode:'MULTI'},height:250,columns:[{header:'name',dataIndex:'name',flex:3},{header:'status',dataIndex:'status',flex:1,renderer:function(value){if(value!=''){if(value=='d')return "<img src='modules/KAuthProfiles/images/deactivate.gif'>";else return "<img src='modules/KAuthProfiles/images/activate.gif'>";}else return '';}}],tbar:[{xtype:'textfield',enableKeyEvents:true,fieldLabel:'Filter',labelWidth:30,listeners:{keyup:function(textField){if(textField.getValue()=='')K.kauthmanager.kauthobjects.aw.clearFilter();else{K.kauthmanager.kauthobjects.aw.clearFilter();K.kauthmanager.kauthobjects.aw.filter('name',new RegExp(textField.getValue(),'i'));}}}}]});K.kauthmanager.kauthobjects.bS=new Ext.Window({title:'Select an Org Object',width:400,height:500,modal:true,headerPosition:'top',layout:'fit',items:[K.kauthmanager.kauthobjects.ak],buttons:[{text:'OK',handler:function(){var l=K.kauthmanager.kauthobjects.ak.getSelectionModel().getSelection();if(l.length>0){for(var i=0;i<l.length;i++){K.kauthmanager.kauthobjects.bO.add({name:l[i].get('name'),id:l[i].get('id'),user_id:K.kauthmanager.kauthobjects.aG.userid})[0].setDirty();};K.kauthmanager.kauthobjects.bO.sync();}K.kauthmanager.kauthobjects.bS.close();}},{text:'Cancel',handler:function(){K.kauthmanager.kauthobjects.bS.close();}}]});K.kauthmanager.kauthobjects.bS.show();}});K.kauthmanager.kauthobjects.aD=new Ext.button.Button({text:'remove Profile',icon:'modules/KAuthProfiles/images/minus.gif',handler:function(){if(K.kauthmanager.kauthobjects.aG.getSelectionModel().hasSelection())K.kauthmanager.kauthobjects.bO.remove(K.kauthmanager.kauthobjects.aG.getSelectionModel().getSelection()[0]);}});K.kauthmanager.kauthobjects.aG=Ext.create('Ext.grid.Panel',{userid:'',store:K.kauthmanager.kauthobjects.bO,flex:1,columns:[{header:'name',dataIndex:'name',editable:true,flex:1}],title:'Authorization Profiles',frame:false,tbar:[K.kauthmanager.kauthobjects.ba,K.kauthmanager.kauthobjects.aD]});K.kauthmanager.kauthobjects.bY=new Ext.panel.Panel({frame:false,padding:3,flex:1,width:'100%',layout:{type:'hbox',align:'stretch'},items:[K.kauthmanager.kauthobjects.kauthusersgrid,K.kauthmanager.kauthobjects.aG],listeners:{bD:function(){}}});K.kauthmanager.bb=new Ext.data.Store({fields:['item','title'],data:[{'item':'oelements','title':SUGAR.language.get('KAuthProfiles','LBL_OELEMENTS')},{'item':'otypes','title':SUGAR.language.get('KAuthProfiles','LBL_OTYPES')},{'item':'oobjects','title':SUGAR.language.get('KAuthProfiles','LBL_OOBJECTS')},{'item':'oassignments','title':SUGAR.language.get('KAuthProfiles','LBL_OASSIGNMENTS')},{'item':'atypes','title':SUGAR.language.get('KAuthProfiles','LBL_ATYPES')},{'item':'aobjects','title':SUGAR.language.get('KAuthProfiles','LBL_AOBJECTS')},{'item':'aprofiles','title':SUGAR.language.get('KAuthProfiles','LBL_APROFILES')},{'item':'aassignments','title':SUGAR.language.get('KAuthProfiles','LBL_AASSIGNMENTS')}],proxy:{type:'memory',reader:{type:'json'}}});K.kauthmanager.bC=new Ext.grid.Panel({store:K.kauthmanager.bb,columns:[{text:SUGAR.language.get('KAuthProfiles','LBL_ACTION'),dataIndex:'title',width:200}],width:202,listeners:{select:function(thisModel,thisRecord){K.kauthmanager.V.removeAll(false);switch(thisRecord.get('item')){case 'oelements':K.kauthmanager.V.add(K.kauthmanager.korgobjects.aI);break;case 'otypes':K.kauthmanager.V.add(K.kauthmanager.korgobjects.aZ);break;case 'oobjects':K.kauthmanager.V.add(K.kauthmanager.korgobjects.au);break;case 'oassignments':K.kauthmanager.V.add(K.kauthmanager.kauthobjects.cU);break;case 'atypes':K.kauthmanager.V.add(K.kauthmanager.kauthobjects.cY);break;case 'aobjects':K.kauthmanager.V.add(K.kauthmanager.kauthobjects.aY);break;case 'aprofiles':K.kauthmanager.V.add(K.kauthmanager.kauthobjects.dp);break;case 'aassignments':K.kauthmanager.V.add(K.kauthmanager.kauthobjects.bY);break;}}}});Ext.onReady(function(){K.kauthmanager.V=new Ext.panel.Panel({layout:'fit',flex:1});K.kauthmanager.aa=Ext.create('Ext.Panel',{width:'100%',height:500,title:SUGAR.language.get('KAuthProfiles','LBL_MANAGER_HEADER'),layout:{type:'hbox',align:'stretch'},renderTo:'managergrid',items:[K.kauthmanager.bC,K.kauthmanager.V,]});K.kauthmanager.aa.setHeight(window.innerHeight-document.getElementById('content').offsetTop-100);K.kauthmanager.korgobjects.bG.load();K.kauthmanager.korgobjects.bk.load();K.kauthmanager.kauthobjects.aS.load();K.kauthmanager.kauthobjects.am.load();K.kauthmanager.kauthobjects.ab.load();K.kauthmanager.kauthobjects.bq.load();K.kauthmanager.kauthobjects.aQ.load();K.kauthmanager.kauthobjects.bg.load();});